@tailwind base;
@tailwind components;
@tailwind utilities;

/* Light theme tokens */
:root {
  --bg-page: #F6F8FC;
  --surface: #FFFFFF;
  --muted: #64748B;
  --accent: #2B6AEF;
  --accent-600: #1D57D9;
  --danger: #EF4444;
  --success: #22C55E;
  --text: #0F172A;
  --border-light: rgba(15, 23, 42, 0.08);
  --border-dark: rgba(148,163,184,0.18);
  --header-gradient-start: #0B1736;
  --header-gradient-end: #13224E;
}

/* Dark theme tokens — toggle by adding `dark` class on <html> or <body> */
.dark {
  --bg-page: #0A1024;
  --surface: #0F1729;
  --muted: #9CA3AF;
  --accent: #4C86FF;
  --accent-600: #2563EB;
  --danger: #F87171;
  --success: #34D399;
  --text: #E6EEF8;
  --header-gradient-start: #0A132E;
  --header-gradient-end: #142757;
}

/* Base layout */
html, body, #root {
  height: 100%;
}

body {
  background: var(--bg-page);
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 160ms ease, color 160ms ease;
}

/* Component styles must live inside @layer components so Tailwind can process @apply */
@layer components {
  .bg-gradient-header {
    background-image: linear-gradient(90deg, var(--header-gradient-start), var(--header-gradient-end));
  }
  .bg-surface {
    background-color: var(--surface);
  }
  .bg-page {
    background-color: var(--bg-page);
  }
  /* Button using CSS vars for color so it responds to theme */
  .btn {
    @apply px-3 py-2 rounded-md text-white transition-colors inline-flex items-center gap-2;
    background-color: var(--accent);
    border: none;
  }

  .danger {
     @apply px-3 py-2 rounded-md text-white transition-colors inline-flex items-center gap-2;
    background-color: var(--danger);
    border: none;
  }
  .btn:hover {
    background-color: var(--accent-600);
  }
  .btn:active { transform: translateY(1px); }

  /* Input — uses surface variable and subtle borders that change with theme */
  .input {
    @apply px-3 py-2 rounded-md outline-none w-full transition-shadow;
    background-color: var(--surface);
    color: var(--text);
    border: 1px solid var(--border-light);
    box-shadow: none;
  }

  /* When dark mode is active, use the darker border */
  .dark .input {
    border-color: var(--border-dark);
  }

  /* Card example */
  .card {
    @apply rounded-xl shadow-sm p-4 border;
    background-color: var(--surface);
    color: var(--text);
    transition: box-shadow 160ms ease, transform 160ms ease;
  }
  .card:hover {
    @apply shadow-md;
    transform: translateY(-2px);
  }

  .kpi {
    @apply rounded-xl p-4 flex items-center gap-3 border;
    background-color: var(--surface);
  }
  .kpi-icon {
    @apply w-9 h-9 rounded-lg flex items-center justify-center text-white;
    background-color: var(--accent);
  }
  .kpi-title { color: var(--muted); }
}

  /* Small utility for muted text */
  .muted {
    color: var(--muted);
  }

  /* Small theme-aware outline focus */
  .focus-ring {
    box-shadow: 0 0 0 4px rgba(37,99,235,0.08);
    outline: none;
  }

/* Optional: ensure form elements inherit font & color */
input, textarea, select, button {
  font-family: inherit;
  color: inherit;
}

/* Utility: visually-hidden for accessibility */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}
